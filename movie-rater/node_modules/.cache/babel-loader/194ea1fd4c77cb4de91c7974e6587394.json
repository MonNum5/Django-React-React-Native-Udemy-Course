{"ast":null,"code":"var _jsxFileName = \"/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/components/movie-details.js\";\nimport React, { useState } from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faStar } from '@fortawesome/free-solid-svg-icons';\nimport { useCookies } from 'react-cookie';\n\nfunction MovieDetails(props) {\n  const [token] = useCookies(['mr-token']);\n\n  const movieClicked = movie => evt => {\n    props.movieClicked(movie);\n  };\n\n  const [highlighted, sethighlighted] = useState(-1);\n\n  const highlightRate = high => evt => {\n    sethighlighted(high);\n  };\n\n  const rateClicked = rate => evt => {\n    fetch(`http://127.0.0.1:8000/api/movies/${props.movie.id}/rate_movie/`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token['mr-token']}`\n      },\n      body: JSON.stringify({\n        stars: rate + 1\n      })\n    }).then(resp => resp.json()).then(resp => getDetails()).catch(error => console.log(error));\n  };\n\n  const getDetails = () => {\n    fetch(`http://127.0.0.1:8000/api/movies/${props.movie.id}/`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Token ${token['mr-token']}`\n      }\n    }).then(resp => resp.json()).then(resp => props.updateMovie(resp)).catch(error => console.log(error));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 3\n    }\n  }, props.movie ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, props.movie.title), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, props.movie.description), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faStar,\n    className: props.movie.avg_rating > 0 ? \"orange\" : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faStar,\n    className: props.movie.avg_rating > 1 ? \"orange\" : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faStar,\n    className: props.movie.avg_rating > 2 ? \"orange\" : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faStar,\n    className: props.movie.avg_rating > 3 ? \"orange\" : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: faStar,\n    className: props.movie.avg_rating > 4 ? \"orange\" : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }), \"(\", props.movie.no_of_ratings, \")\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rate-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, \"Rate it\"), [...Array(5)].map((e, i) => {\n    return /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n      key: i,\n      icon: faStar,\n      className: highlighted > i - 1 ? \"purple\" : '',\n      onMouseEnter: highlightRate(i),\n      onMouseLeave: highlightRate(-1),\n      onClick: rateClicked(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 25\n      }\n    });\n  }))) : null);\n}\n\nexport default MovieDetails;","map":{"version":3,"sources":["/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/components/movie-details.js"],"names":["React","useState","FontAwesomeIcon","faStar","useCookies","MovieDetails","props","token","movieClicked","movie","evt","highlighted","sethighlighted","highlightRate","high","rateClicked","rate","fetch","id","method","headers","body","JSON","stringify","stars","then","resp","json","getDetails","catch","error","console","log","updateMovie","title","description","avg_rating","no_of_ratings","Array","map","e","i"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faStar } from '@fortawesome/free-solid-svg-icons'\nimport { useCookies } from 'react-cookie'\n\nfunction MovieDetails(props){\n\t\n  const [token] = useCookies(['mr-token']);\n\n\tconst movieClicked = (movie) => (evt) => {\n\t\tprops.movieClicked(movie)\n\t}\n\n  const [highlighted, sethighlighted] = useState(-1);\n\n  const highlightRate = high => evt => {\n    sethighlighted(high);\n  }\n\n  const rateClicked = rate => evt => {\n        fetch(`http://127.0.0.1:8000/api/movies/${props.movie.id}/rate_movie/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Token ${token['mr-token']}`,          },\n          body: JSON.stringify( {stars: rate+1} )\n        })\n        .then( resp => resp.json())\n        .then( resp => getDetails())\n        .catch( error => console.log(error))\n      }\n\n    const getDetails = () => {\n      fetch(`http://127.0.0.1:8000/api/movies/${props.movie.id}/`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Token ${token['mr-token']}`,\n          },\n        })\n        .then( resp => resp.json())\n        .then( resp => props.updateMovie(resp))\n        .catch( error => console.log(error))\n    }\n\n\treturn(\n\t\t<div>\n      { props.movie ? (\n        <div>\n          <h1>{props.movie.title}</h1>\n          <p>{props.movie.description}</p> \n          <div>\n          <FontAwesomeIcon icon={faStar} className={props.movie.avg_rating > 0 ? \"orange\":''}/>\n          <FontAwesomeIcon icon={faStar} className={props.movie.avg_rating > 1 ? \"orange\":''}/>\n          <FontAwesomeIcon icon={faStar} className={props.movie.avg_rating > 2 ? \"orange\":''}/>\n          <FontAwesomeIcon icon={faStar} className={props.movie.avg_rating > 3 ? \"orange\":''}/>\n          <FontAwesomeIcon icon={faStar} className={props.movie.avg_rating > 4 ? \"orange\":''}/>\n          ({props.movie.no_of_ratings})\n        </div>\n        <div className=\"rate-container\">\n            <h2>Rate it</h2> \n              { [...Array(5)].map( (e, i)=> {\n                return (<FontAwesomeIcon key={i} icon={faStar} className={highlighted > i-1 ? \"purple\":''}\n                  onMouseEnter={highlightRate(i)}\n                  onMouseLeave={highlightRate(-1)}\n                  onClick={rateClicked(i)}\n                  />)\n              }\n                )}\n        </div>  \n        </div>\n      ) : null}   \n\n       \n    </div>\n\t\t)\n}\n\nexport default MovieDetails;"]},"metadata":{},"sourceType":"module"}
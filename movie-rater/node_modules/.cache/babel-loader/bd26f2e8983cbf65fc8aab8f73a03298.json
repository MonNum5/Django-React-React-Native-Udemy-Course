{"ast":null,"code":"var _jsxFileName = \"/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/components/auth.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { API } from '../api-service';\nimport { TokenContext } from '../index';\nimport { useCookies } from 'react-cookie';\n\nfunction Auth() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [isLoginView, setIsLoginView] = useState(true);\n  const [token, setToken] = useCookies(['mr-token']);\n\n  const loginClicked = () => {\n    API.loginUser({\n      username,\n      password\n    }).then(resp => setToken('mr-token', resp.token)).catch(error => console.log(error));\n  };\n\n  const registerClicked = () => {\n    API.registerUser({\n      username,\n      password\n    }).then(resp => console.log(resp)).catch(error => console.log(error));\n  };\n\n  useEffect(() => {\n    if (token['mr-token']) window.location.href = '/movies';\n  }, [token]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 3\n    }\n  }, isLoginView ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 19\n    }\n  }, \"Login\") : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 36\n    }\n  }, \"Register\"), /*#__PURE__*/React.createElement(\"label\", {\n    id: \"username\",\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 4\n    }\n  }, \" Username \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    palceholder: \"username\",\n    value: username,\n    onChange: evt => setUsername(evt.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    palceholder: \"Password\",\n    value: password,\n    onChange: evt => setPassword(evt.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 4\n    }\n  }), isLoginView ? /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: evt => loginClicked(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 23\n    }\n  }, \"Login\")) : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: evt => registerClicked(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Register\"), isLoginView ? /*#__PURE__*/React.createElement(\"p\", {\n    onClick: () => setIsLoginView(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 20\n    }\n  }, \" Yout don't have an account? Register here! \") : /*#__PURE__*/React.createElement(\"p\", {\n    onClick: () => setIsLoginView(true),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 6\n    }\n  }, \" Yout already have an account? Login here! \"));\n}\n\nexport default Auth;","map":{"version":3,"sources":["/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/components/auth.js"],"names":["React","useState","useContext","useEffect","API","TokenContext","useCookies","Auth","username","setUsername","password","setPassword","isLoginView","setIsLoginView","token","setToken","loginClicked","loginUser","then","resp","catch","error","console","log","registerClicked","registerUser","window","location","href","evt","target","value"],"mappings":"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","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\nimport { API } from '../api-service'\nimport { TokenContext } from '../index'\nimport { useCookies } from 'react-cookie'\n\nfunction Auth(){\n\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [isLoginView, setIsLoginView] = useState(true)\n\tconst [token, setToken] = useCookies(['mr-token']);\n\n\tconst loginClicked = () => {\n\t\tAPI.loginUser({username, password})\n\t\t.then( resp => setToken('mr-token', resp.token))\n\t\t.catch( error => console.log(error))\n\t}\n\n\tconst registerClicked = () => {\n\t\tAPI.registerUser({username, password})\n\t\t.then( resp => console.log(resp))\n\t\t.catch( error => console.log(error))\n\t}\n\n\tuseEffect( () => {\n\t\tif (token['mr-token']) window.location.href = '/movies';\n\t}, [token])\n\n\treturn(\n\t\t<div>\n\t\t\t{isLoginView ? <h1>Login</h1> : <h1>Register</h1>}\t\t\n\t\t\t<label id=\"username\" htmlFor =\"username\"> Username </label>\n\t\t\t<br/>\n\t\t\t<input id=\"username\" type=\"text\" palceholder=\"username\" value={username}\n\t\t\tonChange={evt => setUsername(evt.target.value)}/>\n\t\t\t<br/>\n\t\t\t<label htmlFor=\"password\" >Password</label>\n\t\t\t<br/>\n\t\t\t<input type=\"password\" id=\"password\" palceholder=\"Password\" value={password}\n\t\t\tonChange={evt => setPassword(evt.target.value)}/>\n\t\t\t<br/>\n\t\t\t{\n\t\t\t\tisLoginView ? <h1><button onClick={ evt => loginClicked()}>Login</button></h1>\n\t\t\t\t: <button onClick={ evt => registerClicked()}>Register</button>\n\t\t\t}\t\n\t\t\t{ isLoginView ? <p onClick={() => setIsLoginView(false)}> Yout don't have an account? Register here! </p>\n\t\t\t: <p onClick={() => setIsLoginView(true)}> Yout already have an account? Login here! </p>}\t\n\t\t\t\n\t\t\t\n\t\t\t</div>\n\t\t)\n\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}
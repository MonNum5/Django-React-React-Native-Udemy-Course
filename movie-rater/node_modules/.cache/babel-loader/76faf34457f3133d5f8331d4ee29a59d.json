{"ast":null,"code":"var _jsxFileName = \"/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/components/auth.js\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { API } from '../api-service';\nimport { TokenContext } from '../index';\n\nfunction Auth() {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    token,\n    setToken\n  } = useContext(TokenContext);\n\n  const loginClicked = () => {\n    API.loginUser({\n      username,\n      password\n    }).then(resp => setToken(resp.token)).catch(error => console.log(error));\n  };\n\n  useEffect(() => {\n    if (token) window.location.href = '/movies';\n  }, [token]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    id: \"username\",\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 4\n    }\n  }, \" Username \"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    palceholder: \"username\",\n    value: username,\n    onChange: evt => setUsername(evt.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 4\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    palceholder: \"Password\",\n    value: password,\n    onChange: evt => setPassword(evt.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: evt => loginClicked(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 4\n    }\n  }, \"Login\"));\n}\n\nexport default Auth;","map":{"version":3,"sources":["/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/components/auth.js"],"names":["React","useState","useContext","useEffect","API","TokenContext","Auth","username","setUsername","password","setPassword","token","setToken","loginClicked","loginUser","then","resp","catch","error","console","log","window","location","href","evt","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,EAAqCC,SAArC,QAAqD,OAArD;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,SAASC,YAAT,QAA6B,UAA7B;;AAEA,SAASC,IAAT,GAAe;AAEd,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM;AAACU,IAAAA,KAAD;AAAQC,IAAAA;AAAR,MAAoBV,UAAU,CAACG,YAAD,CAApC;;AAEA,QAAMQ,YAAY,GAAG,MAAM;AAC1BT,IAAAA,GAAG,CAACU,SAAJ,CAAc;AAACP,MAAAA,QAAD;AAAWE,MAAAA;AAAX,KAAd,EACCM,IADD,CACOC,IAAI,IAAIJ,QAAQ,CAACI,IAAI,CAACL,KAAN,CADvB,EAECM,KAFD,CAEQC,KAAK,IAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAFjB;AAGA,GAJD;;AAMAf,EAAAA,SAAS,CAAE,MAAM;AAChB,QAAIQ,KAAJ,EAAWU,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,SAAvB;AACX,GAFQ,EAEN,CAACZ,KAAD,CAFM,CAAT;AAIA,sBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,OAAO,EAAE,UAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAEC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC;AAAO,IAAA,EAAE,EAAC,UAAV;AAAqB,IAAA,IAAI,EAAC,MAA1B;AAAiC,IAAA,WAAW,EAAC,UAA7C;AAAwD,IAAA,KAAK,EAAEJ,QAA/D;AACA,IAAA,QAAQ,EAAEiB,GAAG,IAAIhB,WAAW,CAACgB,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,eAKC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALD,eAMC;AAAO,IAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAND,eAOC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPD,eAQC;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,EAAE,EAAC,UAA1B;AAAqC,IAAA,WAAW,EAAC,UAAjD;AAA4D,IAAA,KAAK,EAAEjB,QAAnE;AACA,IAAA,QAAQ,EAAEe,GAAG,IAAId,WAAW,CAACc,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARD,eAUC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAVD,eAWC;AAAQ,IAAA,OAAO,EAAGF,GAAG,IAAIX,YAAY,EAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAXD,CADD;AAgBA;;AAED,eAAeP,IAAf","sourcesContent":["import React, {useState, useContext, useEffect} from 'react'\nimport { API } from '../api-service'\nimport { TokenContext } from '../index'\n\nfunction Auth(){\n\n\tconst [username, setUsername] = useState('');\n\tconst [password, setPassword] = useState('');\n\n\tconst {token, setToken} = useContext(TokenContext);\n\n\tconst loginClicked = () => {\n\t\tAPI.loginUser({username, password})\n\t\t.then( resp => setToken(resp.token))\n\t\t.catch( error => console.log(error))\n\t}\n\n\tuseEffect( () => {\n\t\tif (token) window.location.href = '/movies';\n\t}, [token])\n\n\treturn(\n\t\t<div>\n\t\t\t<label id=\"username\" htmlFor =\"username\"> Username </label>\n\t\t\t<br/>\n\t\t\t<input id=\"username\" type=\"text\" palceholder=\"username\" value={username}\n\t\t\tonChange={evt => setUsername(evt.target.value)}/>\n\t\t\t<br/>\n\t\t\t<label htmlFor=\"password\" >Password</label>\n\t\t\t<br/>\n\t\t\t<input type=\"password\" id=\"password\" palceholder=\"Password\" value={password}\n\t\t\tonChange={evt => setPassword(evt.target.value)}/>\n\t\t\t<br/>\n\t\t\t<button onClick={ evt => loginClicked()}>Login</button>\n\t\t\t</div>\n\t\t)\n\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { API } from '../api-service';\nimport { useCookies } from 'react-cookie';\n\nfunction useFetch() {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState();\n  const [token] = useCookies(['mr-token']);\n  useEffect(() => {\n    async function fetchData(token) {\n      setLoading(true);\n      setError();\n      const data = await API.getMovies(token).catch(err => setError(err));\n      setData(data);\n      setLoading(false);\n    }\n\n    fetchData();\n  }, []);\n  return [data, loading, error];\n}\n\nexport { useFetch };","map":{"version":3,"sources":["/Users/Clemens/Desktop/Django-React-React-Native-Udemy-Course/movie-rater/src/hooks/useFetch.js"],"names":["useState","useEffect","API","useCookies","useFetch","data","setData","loading","setLoading","error","setError","token","fetchData","getMovies","catch","err"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,GAAT,QAAoB,gBAApB;AACA,SAASC,UAAT,QAA2B,cAA3B;;AAEA,SAASC,QAAT,GAAoB;AACnB,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACO,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,EAAlC;AAEA,QAAM,CAACW,KAAD,IAAUR,UAAU,CAAC,CAAC,UAAD,CAAD,CAA1B;AAEAF,EAAAA,SAAS,CAAE,MAAM;AAChB,mBAAeW,SAAf,CAAyBD,KAAzB,EAA+B;AAC9BH,MAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,MAAAA,QAAQ;AACR,YAAML,IAAI,GAAG,MAAMH,GAAG,CAACW,SAAJ,CAAcF,KAAd,EAAqBG,KAArB,CAA4BC,GAAG,IAAIL,QAAQ,CAACK,GAAD,CAA3C,CAAnB;AACAT,MAAAA,OAAO,CAACD,IAAD,CAAP;AACAG,MAAAA,UAAU,CAAC,KAAD,CAAV;AACA;;AACDI,IAAAA,SAAS;AACT,GATQ,EASN,EATM,CAAT;AAUA,SAAO,CAACP,IAAD,EAAOE,OAAP,EAAgBE,KAAhB,CAAP;AAEA;;AAED,SAAQL,QAAR","sourcesContent":["import { useState, useEffect } from 'react';\nimport { API } from '../api-service';\nimport { useCookies } from 'react-cookie'\n\nfunction useFetch() {\n\tconst [data, setData] = useState([]);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState();\n\n\tconst [token] = useCookies(['mr-token']);\n\n\tuseEffect( () => {\n\t\tasync function fetchData(token){\n\t\t\tsetLoading(true);\n\t\t\tsetError();\n\t\t\tconst data = await API.getMovies(token).catch( err => setError(err))\n\t\t\tsetData(data);\n\t\t\tsetLoading(false);\n\t\t}\n\t\tfetchData()\n\t}, [])\n\treturn [data, loading, error]\n\n}\n\nexport {useFetch};"]},"metadata":{},"sourceType":"module"}